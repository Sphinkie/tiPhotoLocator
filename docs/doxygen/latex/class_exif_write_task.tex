\doxysection{Référence de la classe Exif\+Write\+Task}
\label{class_exif_write_task}\index{ExifWriteTask@{ExifWriteTask}}


La classe \doxyref{Exif\+Write\+Task}{p.}{class_exif_write_task} permet d\textquotesingle{}écrire des metadata dans les photos JEG de façon asynchrone.  


Graphe d\textquotesingle{}héritage de Exif\+Write\+Task\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{class_exif_write_task}
\end{center}
\end{figure}
\doxysubsubsection*{Fonctions membres publiques}
\begin{DoxyCompactItemize}
\item 
\textbf{ Exif\+Write\+Task} (const QVariant\+Map exif\+Data, bool generate\+Backup=false)
\begin{DoxyCompactList}\small\item\em Constructeur. On enregistre les paramètres. \end{DoxyCompactList}\item 
virtual void \textbf{ run} ()
\begin{DoxyCompactList}\small\item\em Lancement de la tache. On lance {\bfseries{exif\+Tool}} dans un QProcess, et on écrit les metadata dans l\textquotesingle{}image JPG. Cette tache est exécutée dans un thread QRunnable. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Attributs privés}
\begin{DoxyCompactItemize}
\item 
\label{class_exif_write_task_a30f450a4be6abe483b77c9445689725e} 
QVariant\+Map {\bfseries m\+\_\+exif\+Data}
\begin{DoxyCompactList}\small\item\em Liste des metadata à ecrire. \end{DoxyCompactList}\item 
\label{class_exif_write_task_a09a5dc832fd4d41b1ee9fbb9f55623f7} 
bool {\bfseries m\+\_\+generate\+Backup}
\begin{DoxyCompactList}\small\item\em True si un backup de l\textquotesingle{}image doit être généré. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Description détaillée}
La classe \doxyref{Exif\+Write\+Task}{p.}{class_exif_write_task} permet d\textquotesingle{}écrire des metadata dans les photos JEG de façon asynchrone. 

\textbackslash{}inmodule Ti\+Photo\+Locator 

Tache asynchrone par utilisation de QThread\+Pool.

\begin{DoxyNote}{Note}
\+: les QRunnable n\textquotesingle{}héritent pas de QObject et ne peuvent donc pas communiquer avec les autres objets à l\textquotesingle{}aide de signaux. Donc, à la fin du traitement, pour actualiser les données du \doxyref{Photo\+Model}{p.}{class_photo_model}, il faut faire un appel direct. Cependant, cela n\textquotesingle{}est pas contraire aux recommandations\+: mettre à jour des données peut se faire par appel synchrone. 
\end{DoxyNote}


\doxysubsection{Documentation des constructeurs et destructeur}
\label{class_exif_write_task_a5182e345ea27ce1581cc6d28542bae97} 
\index{ExifWriteTask@{ExifWriteTask}!ExifWriteTask@{ExifWriteTask}}
\index{ExifWriteTask@{ExifWriteTask}!ExifWriteTask@{ExifWriteTask}}
\doxysubsubsection{ExifWriteTask()}
{\footnotesize\ttfamily Exif\+Write\+Task\+::\+Exif\+Write\+Task (\begin{DoxyParamCaption}\item[{const QVariant\+Map}]{exif\+Data,  }\item[{bool}]{generate\+Backup = {\ttfamily false} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [explicit]}}



Constructeur. On enregistre les paramètres. 


\begin{DoxyParams}{Paramètres}
{\em exif\+Data} & la liste des metadata à écrire dans le fichier JPG. \\
\hline
{\em generate\+Backup} & {\ttfamily true} si un backup de l\textquotesingle{}image doit être généré avant sa modification. 
\begin{DoxyCode}{1}
\DoxyCodeLine{QVariantMap:\ QMap(}
\DoxyCodeLine{\ (\textcolor{stringliteral}{"{}SourceFile"{}},\ \ \ \ \ \ \ QVariant(QString,\ \ \ \textcolor{stringliteral}{"{}E:/TiPhotos/P8160449.JPG"{}}))}
\DoxyCodeLine{\ (\textcolor{stringliteral}{"{}FileName"{}},\ \ \ \ \ \ \ \ \ QVariant(QString,\ \ \ \textcolor{stringliteral}{"{}P8160449.JPG"{}}))}
\DoxyCodeLine{\ (\textcolor{stringliteral}{"{}Artist"{}},\ \ \ \ \ \ \ \ \ \ \ QVariant(QString,\ \ \ \textcolor{stringliteral}{"{}Blemia\ Borowicz"{}}))}
\DoxyCodeLine{\ (\textcolor{stringliteral}{"{}DateTimeOriginal"{}},\ QVariant(QString,\ \ \ \textcolor{stringliteral}{"{}2023:08:16\ 13:30:20"{}}))}
\DoxyCodeLine{\ (\textcolor{stringliteral}{"{}GPSLatitude"{}},\ \ \ \ \ \ QVariant(\textcolor{keywordtype}{double},\ \ \ \ 48.7664))}
\DoxyCodeLine{\ (\textcolor{stringliteral}{"{}GPSLatitudeRef"{}},\ \ \ QVariant(QString,\ \ \ \textcolor{stringliteral}{"{}N"{}}))}
\DoxyCodeLine{\ (\textcolor{stringliteral}{"{}GPSLongitude"{}},\ \ \ \ \ QVariant(\textcolor{keywordtype}{double},\ \ \ \ 14.0194))}
\DoxyCodeLine{\ (\textcolor{stringliteral}{"{}GPSLongitudeRef"{}},\ \ QVariant(QString,\ \ \ \textcolor{stringliteral}{"{}E"{}}))}
\DoxyCodeLine{\ (\textcolor{stringliteral}{"{}Make"{}},\ \ \ \ \ \ \ \ \ \ \ \ \ QVariant(QString,\ \ \ \textcolor{stringliteral}{"{}OLYMPUS\ CORPORATION"{}}))}
\DoxyCodeLine{\ (\textcolor{stringliteral}{"{}Model"{}},\ \ \ \ \ \ \ \ \ \ \ \ QVariant(QString,\ \ \ \textcolor{stringliteral}{"{}E-\/M10MarkII"{}}))}
\DoxyCodeLine{\ )}

\end{DoxyCode}
 \\
\hline
\end{DoxyParams}


\doxysubsection{Documentation des fonctions membres}
\label{class_exif_write_task_a62fcca5c4d5077f086df4b98cac752df} 
\index{ExifWriteTask@{ExifWriteTask}!run@{run}}
\index{run@{run}!ExifWriteTask@{ExifWriteTask}}
\doxysubsubsection{run()}
{\footnotesize\ttfamily void Exif\+Write\+Task\+::run (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}



Lancement de la tache. On lance {\bfseries{exif\+Tool}} dans un QProcess, et on écrit les metadata dans l\textquotesingle{}image JPG. Cette tache est exécutée dans un thread QRunnable. 

\begin{DoxyNote}{Note}
Le mode MWG de Exif\+Tool permet d\textquotesingle{}ecrire en une fois dans les différents tags équivalents (ex\+: Artist et Creator, ou bien EXIF\+:City et Iptc\+Ext\+:City, etc). Le Metadata Working Group recommande de garder ces tags EXIF et IPTC synchronisés. 

Pour vérifier les tags écrits\+: {\ttfamily exiftool -\/G1 -\/a -\/s -\/XMP-\/iptc\+Core\+:All -\/XMP-\/iptc\+Ext\+:All mypicture.\+jpg} (-\/G1 = Group 1 = "{}\+Location"{}) (-\/s = shows tag names instead of description) 
\end{DoxyNote}
\begin{DoxySeeAlso}{Voir également}
{\texttt{ https\+://exiftool.\+org/\+Tag\+Names/\+MWG.\+html}} 
\end{DoxySeeAlso}


La documentation de cette classe a été générée à partir des fichiers suivants \+:\begin{DoxyCompactItemize}
\item 
Cpp/Exif\+Write\+Task.\+h\item 
Cpp/Exif\+Write\+Task.\+cpp\end{DoxyCompactItemize}
